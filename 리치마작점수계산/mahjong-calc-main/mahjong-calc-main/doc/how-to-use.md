# 使用方法

手牌を入力すると、待ち牌や点数、牌効率を確認することができます。麻雀を打っていて点数計算が分からなくなったときはもちろん、点数計算のトレーニングやメンチンの待ち牌の確認などにも活用できます。

## 得点計算・牌理

### ルール・場の設定

<img width="414" alt="ルール・場の設定" src="https://user-images.githubusercontent.com/7447366/167599245-24be6eb2-1969-468b-9794-e76a2cbeaae5.png">

ルール・局に関する設定を行います。

#### ルール

現在のルールを設定します。ボタンをタップするとルール設定画面に移動します。

#### 場風

場風を設定します。ゲーム開始時は通常 `東` です。

#### 自風

自風を設定します。親の場合は `東` です。

#### 供託

供託立直棒の本数を設定します。

#### 積棒

積棒を設定します。例えば、「東三局一本場」の場合、積棒は 1 です。

### ドラ表示牌・手牌の入力

<img width="414" alt="ドラ表示牌・手牌の入力" src="https://user-images.githubusercontent.com/7447366/167600217-d3249ad9-7c49-4690-b6d6-a41ddee7a523.png">

手牌・ドラ表示牌を設定します。

パレットの牌をタップすると、フォーカス (青色の下線) 部分に牌を入力することができます。入力された牌をタップすると、牌を消去することができます。

フォーカスは、タップで切り替えることができます。

手牌の上の青い点はツモ牌を表します。更に牌を入力するか消去すると、手牌の中に入りソートされます。

#### ポン・チー・明槓・暗槓

`ポン` `チー` `明槓` `暗槓` ボタンをタップすると、フォーカスが副露した牌に移り、副露した牌を入力することができます。チーの場合は、順子の最初の牌を入力します。

入力された牌をタップすると、牌を消去することができます。牌が消去された状態でさらにタップすると、副露を取り消すことができます。

ルールで赤牌ありに設定されている時、副露に 5 がある場合は `赤牌切替` ボタンをタップすると赤牌を切り替えることができます。

#### 入力メニュー

副露ボタンの左のボタンをタップしてメニューを開くと、入力のクリアやランダムな手牌をセットすることができます。

### 手牌・役の設定

<img width="414" alt="手牌・役の設定" src="https://user-images.githubusercontent.com/7447366/167601761-addf9a11-614f-4c54-ba2a-b779468908a0.png">

手牌の状況の設定を行います。

#### 立直

立直の状態を設定します。他家の副露が無い状態での 1 巡目立直はダブル立直となります。

#### 一発

立直後 1 巡以内に和了した場合、設定します。ルールにより無い場合もあります。

#### 嶺上開花

嶺上開花で和了した場合、設定します。

#### 槍槓

槍槓で和了した場合、設定します。

#### 海底 / 河底

山の最後の牌でツモ和了した場合、または他家の最終打牌でロン和了した場合、設定します。

#### 天和 / 地和

親の配牌で和了している場合、または子の第 1 ツモで和了した場合、設定します。

### 結果

牌の入力後、計算結果が表示されます。

#### 不聴時

<img width="828" alt="不聴時" src="https://user-images.githubusercontent.com/7447366/167604087-94b97407-c404-4c4d-acd5-a08c8fe061db.png">

不聴の場合は向聴数を表示し、 3n+1 枚の牌を入力している場合は有効牌の一覧、 3n+2 枚の牌を入力している場合は打牌候補と受け入れを表示します。

結果の牌をタップすると、手牌から削除したり手牌に追加することができます。

#### 聴牌時

<img width="828" alt="hora" src="https://user-images.githubusercontent.com/7447366/167611251-7f7e07e9-89d3-41e5-9bcd-4e098ef4a132.png">

聴牌の場合は、待ち牌と点数のリストが表示されます。手牌 14 枚すべて入力され、和了している場合はその和了牌のみがリストに表示されます。

積棒や供託が設定されている場合、それらによって追加で得られる点数を `(+1600)` のように表示しています。

ツモ和了などで点数申告が複雑になる場合は、点数の下に表示されている `8000 は 8600` などの文をそのまま申告の文言として使用することができます。

リストのアイテムをタップして展開すると、役の内訳などの詳細情報が表示されます。

リーチして裏ドラが乗った場合など飜数が増加した時は、 `点数の変化` を参照することで素早く点数を申告することができます。

点差表示は、和了した場合につく点差を表しています。積棒や供託の値によって、点差は変動します。

## 得点早見表

<img width="736" alt="得点早見表" src="https://user-images.githubusercontent.com/7447366/167613744-0e480486-6b9c-4d40-a221-f95dcb35bb58.png">

画面右上の `得点早見表` ボタンをタップすると、現在設定されているルールでの得点早見表を参照することができます。

表の上側がロン和了、下側がツモ和了の点数です。画面上部のツールバーで親と子、積棒の設定を素早く行うことができます。

`点差` タブをタップすると、和了時につく点差を調べることができます。積棒や供託の数も考慮されます。表の上側が直撃時につく点差です。表の下側がツモ和了時に他家とつく点差で、親の場合は子 1 人とつく点差、子の場合は子 1 人とつく点差と親とつく点差が表示されます。

## 設定

### ルール設定

<img width="736" alt="rule" src="https://user-images.githubusercontent.com/7447366/167616499-54e2f800-7ba7-4860-b07b-1aff37a50862.png">

ルールを設定します。この設定は得点計算、得点早見表に影響します。デフォルトで [M リーグルール](https://m-league.jp/about) が設定されています。

ルール名の左のボタンをタップすると、プリセットメニューを表示することができます。プリセット名をタップすると素早くルールを切り替えることができます。プリセット名の右側のボタンをタップすると、プリセットを削除します。

ルールを編集し、プリセットメニューからルールを保存することができます。

#### 赤五萬・赤五筒・赤五索

赤牌の数を設定します。

#### 1 本場

- `300 点`: 和了時に積棒 1 本で得点に 300 点追加されます。これが一般的なルールです。
- `1500 点`: 和了時に積棒 1 本で得点に 1500 点追加されます。

#### 切り上げ満貫

- `オフ`: 基本点が 1920 点 (30 符 4 飜 や 60 符 3 飜) の場合でも、点数をそのまま計算します。
- `基本点 1920 点`: 基本点が 1920 点の場合、基本点を 2000 点に切り上げて満貫とします。

#### 連風牌の雀頭

- `2 符`: 連風牌 (ダブ東やダブ南) の雀頭を 2 符として計算します。
- `4 符`: 連風牌の雀頭を 4 符として計算します。

#### 数え役満

- `オフ`: 飜数が 13 以上でも役満にならず、三倍満となります。
- `13 飜以上`: 飜数が 13 以上の際は役満となります。

#### 役満の複合

- `オフ`: 役満が複合しません。ダブル役満がシングル役満扱いとなります。
- `オン`: 役満が複合します。

#### 国士無双十三面待ち・四暗刻単騎待ち・大四喜・純正九蓮宝燈

それぞれの特殊な形の役満について、設定します。

- `役満`: 役満扱いとします。
- `ダブル役満`: ダブル役満扱いとします。

### 表示設定

<img width="414" alt="appearance" src="https://user-images.githubusercontent.com/7447366/167618491-afb7a060-573d-4d92-9907-1b4466285c97.png">

アプリケーションの表示を設定します。

#### 言語

表示言語を設定します。

#### テーマ

アプリケーションのカラーテーマを設定します。

- `自動`: `prefers-color-scheme` メディア特性に基づいて自動的に設定します。
- `ライト`: 明るい色のテーマに設定します。
- `ダーク`: 暗い色のテーマに設定します。

#### 牌の色

牌の色を設定します。

- `自動`: アプリケーションのカラーテーマと同じ色に設定します。
- `自動 (反転)`: アプリケーションのカラーテーマと逆の色に設定します。
- `ライト`: 白い牌に設定します。
- `ダーク`: 黒い牌に設定します。

#### 場ゾロを表示

得点計算と得点早見表で場ゾロの 2 飜を表示するかどうかを設定します。
